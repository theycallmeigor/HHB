{%- comment -%}
  Updated: 03/27/2025
  This file is system-generated and should not be modified. We reserve the right to overwrite it at any moment to add improvements or new features so that customizations you made might be lost
  Please, read through this article to make sure that your customizations will be preserved: https://help.zipify.com/en/articles/877075-zipify-pages-advanced-work-with-buy-box-blocks
{%- endcomment -%}{% assign zp_first_selected_variant = nil %}{% assign zp_first_available_variant = nil %}{% assign zp_current_selected_variant = nil %}{% assign zp_product_schema_variant = nil %}{% assign zp_any_product_variant_available = false %}{% assign zp_current_product_price = nil %}{% assign zp_use_product_variant_from_url = false %}{% assign zp_product_entity_type = 'alt' %}{% assign zp_current_product_custom_variants = nil %}{% if zp_intgrt_wboldprdopts %}{% assign zp_incl_boldcmnsnpt = true %}<script>window.BOLD.common.Shopify.saveProduct({{ product.handle | json }},{{ product.id | json }},{{ product | json }});{% for variant in product.variants %}{% assign csp_metafield_namespace = variant.id | prepend: "csp" %}window.BOLD.common.Shopify.saveVariant({{ variant.id | json }},{variant:{{ variant | json }},inventory_quantity:{{ variant.inventory_quantity | json }},product_id:{{ product.id | json }},product_handle:{{ product.handle | json }},price:{{ variant.price | json }},variant_title:{{ variant.title | json }},group_id:"{{ variant.metafields.bold_rp.rp_group_id }}",csp_metafield:{{ product.metafields[csp_metafield_namespace] | json }}});{% endfor %}</script>{% endif %}{% if zp_intgrt_wboldqtbrk == true %}{% include "bold-product" with product, hide_action: "break" %}{% if bold_hidden_product %}{% break %}{% endif %}{% endif %}{% capture zp_replace_integration %}<zp_additional_integration></zp_additional_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_additional_integration>', '' | replace: '</zp_additional_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}{%- capture zp_replace_integration -%}<zp_product_custom_variants_integration></zp_product_custom_variants_integration>{%- endcapture -%}{% assign zp_replace_integration = '' %}{% assign zp_avwcp = false %}{% if zp_current_product_custom_variants == blank %}{% assign zp_current_product_custom_variants = product.variants %}{% endif %}{% if zp_selected_variants.size < 1 %}{% assign zp_selected_variants = zp_current_product_custom_variants | map: 'id' | join: ',' | split: ',' %}{% endif %}{% if zp_use_product_variant_from_url %}{% assign zp_usvi = '' | append: product.selected_variant.id %}{% else %}{% assign zp_usvi = '' %}{% endif %}{% assign zp_fvrs = '' %}{% assign zp_first_selected_variant = nil %}{% assign zp_current_selected_variant = nil %}{% assign zp_any_product_variant_available = false %}{% assign zp_bvids = '' %}{% assign zp_bdvids = '' %}{% assign zp_product_min_price = nil %}{% assign zp_product_max_price = nil %}{% for zp_pvr in zp_current_product_custom_variants %}{% assign zp_vid = '' | append: zp_pvr.id %}{% if zp_intgrt_wboldqtbrk and zp_integrate_with_bold_custom_pricing %}{% assign zp_bvids = zp_bvids | append: zp_vid | append: ',' %}{% assign zp_bdvid = zp_pvr.metafields.shappify_csp['csp_base'] | default: zp_pvr.metafields.shappify_qb['qb_parent'] | default: zp_pvr.metafields.shappify_bundle['bundle_parent'] | default: 'notassigned' %}{% assign zp_bdvids = zp_bdvids | append: zp_bdvid | append: ',' %}{% endif %}{% if zp_use_product_variant_from_url and zp_usvi == zp_vid and zp_selected_variants contains zp_usvi %}{% assign zp_first_selected_variant = zp_pvr %}{% assign zp_current_selected_variant = zp_pvr %}{% endif %}{% if zp_selected_variants contains zp_vid %}{% assign zp_fvrs = zp_fvrs | append: zp_vid | append: ',' %}{% if zp_first_selected_variant == nil %}{% assign zp_first_selected_variant = zp_pvr %}{% endif %}{% if zp_pvr.available %}{% assign zp_any_product_variant_available = true %}{% endif %}{% if zp_product_min_price == blank or zp_product_min_price > zp_pvr.price %}{% assign zp_product_min_price = zp_pvr.price %}{% endif %}{% if zp_product_max_price == blank or zp_product_max_price < zp_pvr.price %}{% assign zp_product_max_price = zp_pvr.price %}{% endif %}{% endif %}{% endfor %}{% assign zp_selected_variants = zp_fvrs | split: ',' %}{% if zp_selected_variants.size < 1 %}{% assign zp_selected_variants = zp_current_product_custom_variants | map: 'id' | join: ',' | split: ',' %}{% assign zp_any_product_variant_available = product.available %}{% if zp_use_product_variant_from_url and zp_selected_variants contains zp_usvi %}{% assign zp_first_selected_variant = product.selected_variant %}{% assign zp_current_selected_variant = product.selected_variant %}{% else %}{% assign zp_first_selected_variant = zp_current_product_custom_variants | first %}{% endif %}{% endif %}{% unless zp_first_selected_variant.available %}{% assign zp_first_available_variant = nil %}{% for zp_pvr in zp_current_product_custom_variants %}{% assign zp_vid = '' | append: zp_pvr.id %}{% if zp_selected_variants contains zp_vid and zp_pvr.available %}{% assign zp_first_available_variant = zp_pvr %}{% break %}{% endif %}{% endfor %}{% unless zp_first_available_variant == nil %}{% assign zp_first_selected_variant = zp_first_available_variant %}{% endunless %}{% assign zp_first_available_variant = nil %}{% endunless %}{% assign zp_vid = nil %}{% if zp_intgrt_wboldqtbrk and zp_integrate_with_bold_custom_pricing%}{% assign zp_bvids = zp_bvids | split: ',' %}{% assign zp_bdvids = zp_bdvids | split: ',' %}{% assign zp_bdvid = nil %}{% assign zp_vid = '' | append: zp_first_selected_variant.id %}{% for zp_pvr in zp_bdvids %}{% if zp_vid == zp_pvr %}{% assign zp_bdvid = zp_bvids[forloop.index0] %}{% break %}{% endif %}{% endfor %}{% if zp_bdvid and zp_bdvid != zp_vid %}{% assign zp_bitr = false %}{% for zp_pvr in product.variants %}{% if zp_bitr %}{% break %}{% endif %}{% assign zp_pvid = '' | append: zp_pvr.id %}{% if zp_pvid == zp_bdvid %}{% assign zp_bitr = true %}{% if zp_intgrt_wboldqtbrk %}{% include 'bold-variant' with zp_pvr, hide_action: 'skip' %}{% endif %}{% assign zp_first_selected_variant = zp_pvr %}{% break %}{% endif %}{% endfor %}{% endif %}{% endif %}{% assign zp_current_product_price = zp_first_selected_variant.price %}{% if zp_first_selected_variant.compare_at_price > zp_first_selected_variant.price %}{% assign zp_avwcp = true %}{% endif %}{% if zp_first_selected_variant.compare_at_price > zp_first_selected_variant.price %}{% assign zp_current_product_compare_at_price = zp_first_selected_variant.compare_at_price %}{% else %}{% assign zp_current_product_compare_at_price = nil %}{% endif %}{% if zp_product_calculate_bundle_price %}{% assign zp_current_product_price = zp_current_product_price | times: zp_product_default_quantity %}{% if zp_current_product_compare_at_price %}{% assign zp_current_product_compare_at_price = zp_current_product_compare_at_price | times: zp_product_default_quantity %}{% endif %}{% endif %}{% assign zp_main_subscription_settings = shop.metafields['subscriptions'] %}{% assign zp_product_subscription_settings = product.metafields['subscriptions'] %}{% assign zp_subscription_active = '' | append: zp_main_subscription_settings.subscription_active | downcase %}{% if zp_subscription_active == 'true' %}{% assign zp_subscription_active = true %}{% else %}{% assign zp_subscription_active = false %}{% endif %}{% assign zp_product_has_subscriptions = '' | append: zp_product_subscription_settings.has_subscription | downcase %}{% if zp_subscription_active and zp_product_has_subscriptions == 'true' and zp_product_type == 'recharge' and zp_shw_vrntsslctr == true %}{% assign zp_product_has_subscriptions = true %}{% else %}{% assign zp_product_has_subscriptions = false %}{% endif %}{% if zp_subscription_active and zp_product_type == 'recharge' %}{% assign zp_discount_amount = '' | append: zp_product_subscription_settings.discount_percentage %}{% if zp_discount_amount.size > 0 %}{% assign zp_discount_amount = 0 | plus: zp_discount_amount | round: 2 %}{% else %}{% assign zp_discount_amount = 0 %}{% endif %}{% else %}{% assign zp_discount_amount = 0 %}{% endif %}{% assign zp_discount_type = 'percentage' %}{% assign zp_saved_amount = zp_current_product_price | times: zp_discount_amount | divided_by: 100 %}{% if zp_saved_amount > zp_current_product_price %}{% assign zp_saved_amount = zp_current_product_price %}{% endif %}{% assign zp_sale_price = zp_current_product_price | minus: zp_saved_amount %}{% if zp_product_has_subscriptions %}{% assign zp_product_price_attribute = 'data-zp-product-discount-price' %}{% assign zp_subscription_id = '' | append: zp_product_subscription_settings.subscription_id | strip %}{% assign zp_deliver_every_label = '' | append: zp_main_subscription_settings.widget_deliver_every | strip | default: 'Deliver every' %}{% assign zp_purchase_type = 'autodeliver' %}{% assign zp_shipping_interval_unit_type = '' | append: zp_product_subscription_settings.shipping_interval_unit_type | strip | default: 'Days' %}{% assign zp_shipping_interval_frequency = '' | append: zp_product_subscription_settings.shipping_interval_frequency | strip | default: '30' | split: ',' %}{% assign zp_shipping_interval_name = zp_shipping_interval_unit_type %}{% assign zp_shipping_interval_name_last_char_idx = zp_shipping_interval_name | size | minus: 1 %}{% assign zp_shipping_interval_name_last_char = zp_shipping_interval_name | slice: zp_shipping_interval_name_last_char_idx %}{% if zp_shipping_interval_name_last_char == 's' %}{% assign zp_shipping_interval_single_name = zp_shipping_interval_name | slice: 0, zp_shipping_interval_name_last_char_idx %}{% else %}{% assign zp_shipping_interval_single_name = zp_shipping_interval_name %}{% endif %}{% assign zp_shipping_interval_key = zp_shipping_interval_name | downcase %}{% assign zp_shipping_interval_single_key = zp_shipping_interval_single_name | downcase %}{% else %}{% assign zp_product_price_attribute = 'data-zp-product-price' %}{% endif %}{% if zp_product_redirect_with_params == nil %}{% assign zp_current_product_redirect_with_params = false %}{% else %}{% assign zp_current_product_redirect_with_params = zp_product_redirect_with_params %}{% endif %}
<div class="xs-12 sm-4 zpa-flex--column zpa-rch-subscription zpa-product__container--mobile zpa-mobile-offset-bottom-xlg zpa-recharge-{{ zp_product_type }} zps_selclassescape" id="{{ zp_product_wrapper_selector }}">
  <div class="zpa-rch-subscription--content zp zps_brdblclassescape">
    <div class="zp zps_lblblclassescape">
      <div class="zpa-product__label zpa-text-center zp zps_bvcrnrclassescape" zps_lblvisattr>
        <p class="zpa-product__label--text">zps_lbltxtcont</p>
      </div>
    </div>
    <div class="zpa-offset-bottom-sm zpa-mobile-offset-bottom-xs">
      <div class="{% unless zp_bv_product_additional_header_title contains ' tsl-' or zp_bv_product_additional_header_title contains '"tsl-' or zp_bv_product_additional_header_title contains ' ts-' or zp_bv_product_additional_header_title contains '"ts-' %}default-styles-wrapper{% endunless %} zpa-word-wrap disable-internal-link zp zps_ttl1blclassescape">{{ zp_bv_product_additional_header_title }}</div>
    </div>
    <div class="zpa-offset-bottom-md zpa-tablet-offset-bottom-sm zpa-mobile-offset-bottom-xs">
      <div class="{% unless zp_bv_product_description contains ' tsl-' or zp_bv_product_description contains '"tsl-' or zp_bv_product_description contains ' ts-' or zp_bv_product_description contains '"ts-' %}default-styles-wrapper{% endunless %} zpa-word-wrap disable-internal-link zp zps_txtblclassescape">{{ zp_bv_product_description }}</div>
    </div>
    <div class="zpa-offset-bottom-md zpa-tablet-offset-bottom-sm zpa-mobile-offset-bottom-xs zp zps_imgblclassescape">
      <a role="button" data-zp-product-image-link>
        <img class="zpa-img-fluid zp zps_brd1blclassescape" zps_imgimgattr>
      </a>
    </div>
    <div class="zpa-text-center">{% if product.available %}
      <div class="zpa-offset-bottom-xs">
        <span class="zpa-regular-price zpa-word-wrap zp zps_dcrt1classescape" {{ zp_product_price_attribute }}>{{ zp_sale_price | money }}</span>
      </div>{% if zp_unit_price_enabled %}<div class="zpa-offset-bottom-xs zp zps_dcrt2classescape{% unless zp_first_selected_variant.unit_price_measurement %} hidden{% endunless %}" data-zp-product-unit-price-wrapper><span data-zp-product-unit-price>{% if zp_first_selected_variant.unit_price_measurement %}{{ zp_first_selected_variant.unit_price | money }}{% endif %}</span><span> / </span><span data-zp-product-up-base-unit>{% if zp_first_selected_variant.unit_price_measurement %}{% if zp_first_selected_variant.unit_price_measurement.reference_value != 1 %}{{ zp_first_selected_variant.unit_price_measurement.reference_value }}{% endif %}{{ zp_first_selected_variant.unit_price_measurement.reference_unit }}{% endif %}</span></div>{% endif %}{% endif %}
      <div class="zpa-offset-bottom-xs">
        <div class="zpa-inline-block {% unless zp_bv_product_header_title contains ' tsl-' or zp_bv_product_header_title contains '"tsl-' or zp_bv_product_header_title contains ' ts-' or zp_bv_product_header_title contains '"ts-' %}default-styles-wrapper{% endunless %} zpa-word-wrap disable-internal-link zp zps_ttl2blclassescape">{{ zp_bv_product_header_title }}</div>
      </div>
      <div class="zpa-offset-bottom-sm zpa-mobile-offset-bottom-xs">
        <div class="zpa-inline-block {% unless zp_bv_product_static_compare_price contains ' tsl-' or zp_bv_product_static_compare_price contains '"tsl-' or zp_bv_product_static_compare_price contains ' ts-' or zp_bv_product_static_compare_price contains '"ts-' %}default-styles-wrapper{% endunless %} zpa-word-wrap disable-internal-link zp zps_ttl3blclassescape">{{ zp_bv_product_static_compare_price }}</div>
      </div>
      <div class="zpa-offset-bottom-md zpa-tablet-offset-bottom-sm zpa-mobile-offset-bottom-xs">{% if zp_include_product_button_main_classes %}{% assign zp_product_button_base_main_classes = "zpa-mobile-btn-size" %}{% else %}{% assign zp_product_button_base_main_classes = '' %}{% endif %}{% if zp_include_product_button_alignment_classes %}{% assign zp_product_button_base_alignment_classes = "zpa-text-center-sm" %}{% else %}{% assign zp_product_button_base_alignment_classes = '' %}{% endif %}{% if product.available %}
        <form class="{% if zp_intgrt_wboldqtbrk %}shapp_qb_prod{% endif %}" method="post" enctype="multipart/form-data" data-zp-add-to-cart-form data-zp-link-type="zps_prdbtnltpescape" data-productid="{{ product.id }}" data-zp-redirect-with-url-params="{{ zp_current_product_redirect_with_params }}"{% unless zp_enable_subscription_widget %} data-zp-disable-subscrptn-wdgt{% endunless %}>{% if zp_shw_vrntsslctr %}
          <div class="zpa-product-variants-form-center zpa-offset-bottom-xs zp zps_prdblclassescape">{% capture zp_replace_integration %}<zp_additional_property_integration></zp_additional_property_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_additional_property_integration>', '' | replace: '</zp_additional_property_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}<select class="hidden noreplace" id="{{ zp_product_selector }}" {% unless zp_product_has_subscriptions %}name="id"{% endunless %} data-productid="{{ product.id }}">{% assign zp_fvid = '' | append: zp_first_selected_variant.id %}{% for variant in zp_current_product_custom_variants %}{% assign zp_vid = '' | append: variant.id %}{% unless zp_selected_variants contains zp_vid %}{% continue %}{% endunless %}{% capture zp_replace_integration %}<zp_variant_integration></zp_variant_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_variant_integration>', '' | replace: '</zp_variant_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}{% if zp_intgrt_wboldqtbrk %}{% include 'bold-variant' with variant, hide_action: 'skip' %}{% endif %}{% if variant.available %}{% if zp_fvid == zp_vid %}{% assign zp_osa = 'selected="selected" ' %}{% else %}{% assign zp_osa = '' %}{% endif %}<option {{ zp_osa }}value="{{ variant.id }}">{{ variant.title }} - {{ variant.price | money_with_currency }}</option>{% else %}<option disabled="disabled" value="{{ variant.id }}">{{ variant.title }} - {% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</option>{% endif %}{% endfor %}</select>{% if zp_intgrt_wboldprdopts %}<div class="bold_options" data-product-id="{{ product.id }}"></div>{% endif %}{% capture zp_replace_integration %}<zp_property_integration></zp_property_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_property_integration>', '' | replace: '</zp_property_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}{% if zp_product_has_subscriptions %}<select class="hidden noreplace" name="id" id="{{ zp_product_selector }}-recharge-variants">{% assign zp_fvid = '' | append: zp_first_selected_variant.id %}{% for variant in zp_current_product_custom_variants %}{% assign zp_vid = '' | append: variant.id %}{% unless zp_selected_variants contains zp_vid %}{% continue %}{% endunless %}{% assign zp_recharge_variant_id = '' | append: variant.metafields['subscriptions']['discount_variant_id'] | strip | default: zp_variant_id %}{% if zp_intgrt_wboldqtbrk %}{% include 'bold-variant' with variant, hide_action: 'skip' %}{% endif %}{% if variant.available %}{% if zp_fvid == zp_vid %}{% assign zp_osa = 'selected="selected" ' %}{% else %}{% assign zp_osa = '' %}{% endif %}<option {{ zp_osa }}value="{{ zp_recharge_variant_id }}">{{ variant.title }} - {{ variant.price | money_with_currency }}</option>{% else %}<option disabled="disabled" value="{{ zp_recharge_variant_id }}">{{ variant.title }} - {% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</option>{% endif %}{% endfor %}</select><input type="hidden" name="properties[subscription_id]" value="{{ zp_subscription_id }}"><input type="hidden" name="properties[shipping_interval_unit_type]" value="{{ zp_shipping_interval_unit_type }}"><input type="hidden" name="purchase_type" value="{{ zp_purchase_type }}"><input type="hidden" name="autodeliver_{{ product.id }}" value="{{ zp_purchase_type }}">{% if zp_shipping_interval_frequency.size == 1 %}<input type="hidden" name="properties[shipping_interval_frequency]" value="{{ zp_shipping_interval_frequency }}">{% elsif zp_shipping_interval_frequency.size > 1 %}<div class="zpa-selector-wrapper zpa-offset-bottom-xs"><label for="{{ zp_product_selector }}-recharge-shipping-interval">{{ zp_deliver_every_label }}</label><select class="zpa-single-option-selector zpa-single-option-selector--xs noreplace" name="properties[shipping_interval_frequency]" id="{{ zp_product_selector }}-recharge-shipping-interval">{% for zp_frequency in zp_shipping_interval_frequency %}<option value="{{ zp_frequency }}">{{ zp_frequency }} {% if zp_frequency == '1' %}{{ zp_main_subscription_settings.translations[zp_shipping_interval_single_key] | default: zp_shipping_interval_single_name }}{% else %}{{ zp_main_subscription_settings.translations[zp_shipping_interval_key] | default: zp_shipping_interval_name }}{% endif %}</option>{% endfor %}</select></div>{% endif %}{% endif %}<div class="zpa-selector-wrapper zpa-quantity zpa-center-block zpa-offset-bottom-xs" data-zp-quantity-wrapper>{% if zp_product_show_quantity %}{% unless zp_product_show_quantity_label == false %}<label for="{{ zp_product_selector }}-quantity">{% assign zp_translation = 'products.product.quantity.label' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = 'products.product.quantity' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Quantity" %}{% endif %}{% endif %}{{ zp_translation }}</label>{% endunless %}<div class="zpa-quantity-block" data-product-wrapper-id="{{ zp_product_element_id }}" data-zp-quantity-el><button class="zpa-btn-custom zpa-quantity-btn" type="button" title="{% assign zp_translation = 'products.product.quantity.decrease' | t: product: product.title %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Decrease quantity" %}{% endif %}{{ zp_translation }}" data-zp-product-decrease-qty><svg class="zpa-quantity-icon" width="12px" height="12px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconDecrease"></use></svg></button><input id="{{ zp_product_selector }}-quantity" class="zpa-quantity-field xs" value="zps_qtyescape" maxlength="3" size="3" type="tel" inputmode="numeric" required pattern="^[1-9][0-9]*" name="quantity" title="{% assign zp_translation = 'products.product.quantity.input_label' | t: product: product.title %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Quantity" %}{% endif %}{{ zp_translation }}" data-zp-product-quantity><button class="zpa-btn-custom zpa-quantity-btn" type="button" title="{% assign zp_translation = 'products.product.quantity.increase' | t: product: product.title %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Increase quantity" %}{% endif %}{{ zp_translation }}" data-zp-product-increase-qty><svg class="zpa-quantity-icon" width="12px" height="12px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconIncrease"></use></svg></button></div>{% else %}<input id="{{ zp_product_selector }}-quantity" type="hidden" name="quantity" value="zps_qtyescape" data-zp-product-quantity>{% endif %}</div></div>{% endif %}{%- if zp_intgrt_wboldqtbrk %}<div class="shappify-qty-msg">{{ bold_selected_or_first_available_variant.metafields.shappify_qb.pricing_html }}</div>{% endif -%}{% capture zp_replace_integration %}<zp_product_info_integration></zp_product_info_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_info_integration>', '' | replace: '</zp_product_info_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}<div class="zps_prdbtnalignescape {{ zp_product_button_base_alignment_classes }}"><button type="submit" name="add" disabled data-zp-add-to-cart data-zp-add-and-go-to-cart="true" class="zpa-btn-custom zpa-add-to-cart-btn zp zps_prdbtnclassescape {{ zp_product_button_base_main_classes }}" data-zp-link-type="zps_prdbtnltpescape"><span class="zpa-btn-custom__caption" data-zp-add-to-cart-text>{% if zp_any_product_variant_available %}zps_prdbtncpt{% else %}{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}{% endif %}</span><svg class="zpa-btn-loader zpa-btn-custom__icon" width="14px" height="14px"><use href="#buyButtonLoader"></use></svg></button>{% if zp_shw_vrntsslctr %}<div class="zpa-product-message-wrap zpa-product-message-wrap-center"><span class="zpa-product-message product-success hidden zp zps_crtmsgclassurl_escape" data-zp-product-messages data-zp-success-message="zps_addcrtmsgurl_escape"></span></div>{% endif %}</div>{% assign zp_variants_data_str = '' %}{% for zp_variant in product.variants %}{% assign zp_variant_id = '' | append: zp_variant.id %}{% unless zp_selected_variants contains zp_variant_id %}{% continue %}{% endunless %}{% assign zp_current_variant_price = zp_variant.price %}{% if zp_product_has_subscriptions %}{% assign zp_rc_variant_id = '' | append: zp_variant.metafields['subscriptions']['discount_variant_id'] | strip | default: zp_variant_id %}{% assign zp_rc_variant_saved_amount = zp_current_variant_price | times: zp_discount_amount | divided_by: 100 %}{% if zp_rc_variant_saved_amount > zp_current_variant_price %}{% assign zp_rc_variant_saved_amount = zp_current_variant_price %}{% endif %}{% assign zp_rc_variant_sale_price = zp_current_variant_price | minus: zp_rc_variant_saved_amount | divided_by: 100.00 %}{% assign zp_rc_variant_data_str = '{"' | append: zp_rc_variant_id | append: '":' | append: zp_rc_variant_sale_price | append: '}|||' %}{% else %}{% assign zp_rc_variant_data_str = '' %}{% endif %}{% assign zp_variant_sale_price = zp_current_variant_price | divided_by: 100.00 %}{% assign zp_variant_data_str = '{"' | append: zp_variant_id | append: '":' | append: zp_variant_sale_price | append: '}|||' %}{% assign zp_variants_data_str = zp_variants_data_str | append: zp_variant_data_str | append: zp_rc_variant_data_str %}{% endfor %}<script type="application/json" data-zp-product-info>{"currency":"{{ shop.currency }}","product":{{ product.id }},"variants":[{{ zp_variants_data_str | split: '|||' | join: ',' }}]}</script></form>{% else %}<div class="zps_prdbtnalignescape {{ zp_product_button_base_alignment_classes }}"><button type="button" disabled class="zpa-btn-custom zpa-add-to-cart-btn zp zps_prdbtnclassescape {{ zp_product_button_base_main_classes }}">{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'Translation missing' or zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</button></div>{% capture zp_replace_integration %}<zp_product_soldout_integration></zp_product_soldout_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_soldout_integration>', '' | replace: '</zp_product_soldout_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}{% endif %}</div>
    </div>
    <div class="zpa-offset-bottom-sm zp zps_img2blclassescape">
      <img class="zpa-img-fluid zp zps_brd2blclassescape" zps_img2attr>
    </div>{%- if zp_product_found and zp_display_product_markup -%}{% assign zp_product_image = zp_product_image_attributes | append: ' ' | split: ' src=' | last | split: ' ' | first | remove: '"' | remove: "'" %}{% assign zp_product_custom_title = zp_product_custom_title | strip_html | strip | default: product.title | strip_html | strip %}{% assign zp_product_custom_description = zp_product_custom_description | strip_html | strip | default: product.description | strip_html | strip %}{% if zp_current_selected_variant != blank %}{% assign zp_product_schema_variant = zp_current_selected_variant %}{% else %}{% assign zp_product_schema_variant = zp_first_selected_variant %}{% endif %}{% assign zp_product_custom_image = zp_product_custom_image | strip | default: zp_product_image | strip %}{% if zp_pshcren or zp_pcrdt != blank %}{% if zp_first_selected_variant.available and zp_first_selected_variant.featured_media != blank and zp_first_selected_variant.featured_media.media_type == 'image' %}{% assign zp_product_custom_image_obj = zp_first_selected_variant.featured_media %}{% else %}{% assign zp_product_custom_image_obj = product.media | where: 'media_type', 'image' | first | default: zp_product_schema_variant.featured_image | default: product.featured_image %}{% endif %}{% assign zp_product_custom_image = zp_product_custom_image_obj | image_url: width: zp_product_custom_image_obj.preview_image.width | prepend: 'https:' %}{% elsif zp_product_custom_image == blank or zp_product_custom_image == '' or zp_product_custom_image contains '/default_images_product_icon_360x240.jpg' %}{% assign zp_product_custom_image_obj = zp_product_schema_variant.featured_image | default: product.featured_image %}{% assign zp_product_custom_image = zp_product_custom_image_obj | image_url: width: zp_product_custom_image_obj.preview_image.width | prepend: 'https:' %}{% endif %}{%- endif -%}
    {% capture zp_replace_integration %}<zp_product_additional_footer_integration></zp_product_additional_footer_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_additional_footer_integration>', '' | replace: '</zp_product_additional_footer_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}
  </div></div><script type="text/json" data-zp-product-init>{"translations":{"addToCart":"zps_prdbtncpturl_escape"},"productSelector":"{{ zp_product_selector }}","selectedVariants":"zps_slctvrnturl_escape","productType":"{{ zp_product_type }}","imageSize":"{{ '' | append: zp_current_product_image_size | strip | default: 'master' | url_escape }}","productDiscountData":"{{ zp_discount_amount }}:{{ zp_discount_type }}","initBuilder":{{ zp_any_product_variant_available | default: 'false' }},"sbscrbPriceRefresh":false,"calculateBundlePrice":{{ zp_product_calculate_bundle_price | default: 'false' }},"defaultQty":{{ 0 | plus: zp_product_default_quantity }},"productElementId":"{{ zp_product_element_id }}","rechargeVariantsData":{% if zp_product_has_subscriptions %}{% assign zp_product_variants_selector = '{' %}{% for variant in product.variants %}{% assign zp_recharge_variant_id = '' | append: variant.metafields['subscriptions']['discount_variant_id'] | strip | default: variant.id %}{% assign zp_product_variants_selector = zp_product_variants_selector | append: '"' | append: variant.id | append: '":"' | append: zp_recharge_variant_id | append: '",' %}{% endfor %}{% assign zp_recharge_variant_id = '}' %}{{ zp_product_variants_selector | split: ',' | join: ',' | append: zp_recharge_variant_id }}{% assign zp_product_variants_selector = '' %}{% else %}{}{% endif %},"redirectUrl":{{ zp_redirect_product_url | json }},"redirectTarget":"zps_prdbtneltescape","product":{% capture zp_replace_integration %}<zp_product_json_integration>{% if zp_intgrt_wboldqtbrk %}{% capture zp_product_json %}{% include 'bold-product', product: product, output: 'json' %}{% endcapture %}{% if zp_product_json contains 'Could not find asset ' %}{{ product | json | default: 'null' }}{% else %}{{ zp_product_json | strip | default: 'null' }}{% endif %}{% assign zp_product_json = nil %}{% else %}{{ product | json | default: 'null' }}{% endif %}</zp_product_json_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_json_integration>', '' | replace: '</zp_product_json_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}}</script>
{% capture zp_replace_integration %}<zp_product_footer_integration></zp_product_footer_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_footer_integration>', '' | replace: '</zp_product_footer_integration>', '' | strip }}{%- assign zp_replace_integration = '' -%}{% if zp_product_found and zp_display_product_markup %}<script type="application/ld+json">{"@context":"http://schema.org/","@type":"Product",{% if product.vendor != blank %}"brand":{"@type":"Brand","name":{{ product.vendor | json }}},{% endif %}"name":{{ zp_product_custom_title | json }},"description":{{ zp_product_custom_description | json }},"url":{{ request.origin | append: zp_current_entity.url | json }},{% if zp_product_custom_image != blank %}"image":[{{ zp_product_custom_image | json }}],{% endif %}{% if zp_product_schema_variant.sku != blank %}"sku":{{ zp_product_schema_variant.sku | json }},{% endif %}"offers":[{% assign zp_psos = '' %}{% for zp_pvr in zp_current_product_custom_variants %}{% assign zp_svi = '' | append: zp_pvr.id %}{% unless zp_selected_variants contains zp_svi %}{% continue %}{% endunless %}{{ zp_psos }}{% assign zp_psos = ',' %}{% assign zp_pvp = zp_pvr.price %}{% if zp_pvr.compare_at_price > zp_pvr.price %}{% assign zp_pvcp = zp_pvr.compare_at_price %}{% else %}{% assign zp_pvcp = nil %}{% endif %}{% assign zp_pvda_recalculate = true %}{% assign zp_pvda_money = false %}{% assign zp_pvda_prefix = '' %}{% assign zp_pvda_suffix = '' %}{% if zp_product_discount_data contains ':' %}{% assign zp_product_discount_data = zp_product_discount_data | split: ':' %}{% assign zp_sdd = true %}{% else %}{% assign zp_sdd = false %}{% endif %}{% if zp_product_discount_data.size > 1 %}{% assign zp_pvda = 0 | plus: zp_product_discount_data[0] | abs %}{% assign zp_pvdt = '' | append: zp_product_discount_data[1] %}{% if zp_pvdt == 'percentage' or zp_pvdt == 'percentage_dynamic' %}{% assign zp_pdap = '' | append: zp_pvda | split: '.' %}{% assign zp_pddp = '' | append: zp_pdap[1] | default: '0' %}{% assign zp_pddp = 0 | plus: zp_pddp %}{% unless zp_pddp > 0 %}{% assign zp_pvda = zp_pdap[0] %}{% endunless %}{% assign zp_pvda = 0 | plus: zp_pvda | at_most: 100 %}{% assign zp_pvsa = zp_pvp | times: zp_pvda | divided_by: 100 | at_most: zp_pvp %}{% assign zp_pvda_recalculate = false %}{% assign zp_pvda_suffix = '%' %}{% elsif zp_pvdt == 'compare_price' %}{% if zp_pvcp %}{% assign zp_pvda = zp_pvcp | minus: zp_pvp %}{% else %}{% assign zp_pvda = 0 %}{% assign zp_pvudc = 'hidden' %}{% endif %}{% assign zp_pvsa = zp_pvda %}{% else %}{% assign zp_pvda = zp_pvda | times: 100 %}{% assign zp_pvda = '' | append: zp_pvda | split: '.' | first | default: 0 %}{% assign zp_pvda = 0 | plus: zp_pvda | at_most: zp_pvp %}{% assign zp_pvsa = zp_pvda %}{% assign zp_pvda_money = true %}{% endif %}{% if zp_pvdt == 'compare_price' %}{% assign zp_pvsp = zp_pvp %}{% else %}{% assign zp_pvsp = zp_pvp | minus: zp_pvsa %}{% endif %}{% assign zp_pvda_prefix = '-' %}{% else %}{% assign zp_pvsp = zp_pvp %}{% assign zp_pvudc = 'hidden' %}{% assign zp_pvda = 0 %}{% endif %}{% if zp_sdd %}{% assign zp_product_discount_data = zp_product_discount_data | join: ':' %}{% endif %}{"@type":"Offer",{% if zp_pvr.sku != blank %}"sku":{{ zp_pvr.sku | json }},{% endif %}{% if zp_pvr.barcode.size == 12 %}"gtin12":{{ zp_pvr.barcode }},{% endif %}{% if zp_pvr.barcode.size == 13 %}"gtin13":{{ zp_pvr.barcode }},{% endif %}{% if zp_pvr.barcode.size == 14 %}"gtin14":{{ zp_pvr.barcode }},{% endif %}"url":{{ request.origin | append: zp_pvr.url | json }},"priceCurrency":{{ cart.currency.iso_code | json }},"price":{{ zp_pvsp | divided_by: 100.00 | json }},"availability":"http://schema.org/{% if zp_pvr.available %}InStock{% else %}OutOfStock{% endif %}"}{% endfor %}]{% if zp_product_review_count %},"aggregateRating":{"@type":"AggregateRating","ratingValue":{{ zp_product_review_rating | json }},"ratingCount":{{ zp_product_review_count | json }}}{% endif %}}</script>{% endif %}{% assign zp_first_selected_variant = nil %}{% assign zp_sale_price = nil %}{% assign zp_saved_amount = nil %}{% assign zp_current_product_price = nil %}{% assign zp_product_custom_title = nil %}{% assign zp_product_custom_description = nil %}{% assign zp_product_custom_image = nil %}{% assign zp_use_product_stamped_rating = nil %}{% assign zp_use_product_yotpo_rating = nil %}{% assign zp_use_product_loox_rating = nil %}{% assign zp_use_product_judgeme_rating = nil %}{% assign zp_product_review_rating = nil %}{% assign zp_product_review_count = nil %}{% assign zp_product_found = false %}{% assign zp_use_product_variant_from_url = false %}{% assign zp_product_entity_type = nil %}{% assign zp_current_product_custom_variants = nil %}{% assign zp_product_element_id = nil %}{% assign zp_pdstds = nil %}{% assign zp_cpstdd = nil %}{% assign zp_current_product_static_discount_data = nil %}{% assign zp_product_calculate_bundle_price = false %}
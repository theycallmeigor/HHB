<div class="nws-join-section section-{{ section.id }}">
  <div class="{% if section.settings.section_width == 'container' %}container{% elsif section.settings.section_width == 'wide' %}container-wide{% else %}container-full{% endif %}">
    <div class="row nws-join-row">
      <div class="col-lg-6 nws-join-image-col">
        {% if section.settings.sidebar-img %}
          <img loading="lazy" 
               src="{{ section.settings.sidebar-img | img_url:'master' }}" 
               alt="{{ section.settings.heading | escape }}"
               class="nws-join-col-img">
        {% endif %}
      </div>
      <div class="col-lg-6 nws-join-content-col">
        <div class="nws-join-col-inner">
          {% if section.settings.heading != blank %}
            <h3>{{ section.settings.heading }}</h3>
          {% endif %}
          {% if section.settings.text != blank %}
            <p>{{ section.settings.text }}</p>
          {% endif %}
          {% if section.settings.btn-text != blank %}
            <a href="{{ section.settings.btn-link | default: '#' }}" 
               {% if section.settings.open_new_window %}target="_blank"{% endif %}
               class="btn nws-join-col-btn">
              {{ section.settings.btn-text }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Main Section Container with overall background */
  .nws-join-section {
    width: 100%;
    background-color: {{ section.settings.section_bg_color | default: '#FFFFFF' }};
    padding: {{ section.settings.section_padding_top | default: 60 }}px 0 {{ section.settings.section_padding_bottom | default: 60 }}px;
    margin: {{ section.settings.section_margin_top | default: 0 }}px 0 {{ section.settings.section_margin_bottom | default: 0 }}px;
    overflow: hidden;
    position: relative;
  }
  
  /* Container width variations */
  .nws-join-section .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
    width: 100%;
  }
  
  .nws-join-section .container-wide {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 30px;
    width: 100%;
  }
  
  .nws-join-section .container-full {
    max-width: 100%;
    margin: 0;
    padding: 0 {{ section.settings.full_width_padding | default: 40 }}px;
    width: 100%;
  }
  
  /* Row styling with content background */
  .nws-join-row {
    display: flex;
    flex-wrap: wrap;
    margin: 0 -15px;
    align-items: center;
    min-height: 500px;
    background-color: {{ section.settings.content_bg_color | default: '#FFD4E5' }};
    border-radius: {{ section.settings.content_border_radius | default: 0 }}px;
    overflow: hidden;
    position: relative;
  }
  
  /* Apply padding to row when content background is different from section background */
  {% if section.settings.content_bg_color != section.settings.section_bg_color %}
  .nws-join-row {
    padding: {{ section.settings.content_padding | default: 20 }}px;
    margin: 0;
  }
  {% endif %}
  
  /* Column base styles */
  .col-lg-6 {
    flex: 0 0 50%;
    max-width: 50%;
    padding: 0 15px;
    position: relative;
  }
  
  /* Image column specific styles */
  .nws-join-image-col {
    display: flex;
    align-items: center;
    justify-content: center;
    {% if section.settings.image_bg_color != blank %}
    background-color: {{ section.settings.image_bg_color }};
    {% endif %}
    padding: {{ section.settings.image_col_padding | default: 0 }}px;
  }
  
  /* Image styling */
  .nws-join-col-img {
    width: 100%;
    max-width: {{ section.settings.image_max_width | default: 600 }}px;
    height: auto;
    display: block;
    border-radius: {{ section.settings.image_border_radius | default: 0 }}px;
    object-fit: cover;
  }
  
  /* Content column with optional background */
  .nws-join-content-col {
    display: flex;
    align-items: center;
    {% if section.settings.text_col_bg_color != blank %}
    background-color: {{ section.settings.text_col_bg_color }};
    {% endif %}
    padding: {{ section.settings.text_col_padding | default: 0 }}px;
  }
  
  /* Inner content container */
  .nws-join-col-inner {
    width: 100%;
    max-width: 500px;
    padding: 40px;
    text-align: {{ section.settings.text_alignment | default: 'left' }};
    {% if section.settings.inner_content_bg_color != blank %}
    background-color: {{ section.settings.inner_content_bg_color }};
    border-radius: {{ section.settings.inner_content_border_radius | default: 0 }}px;
    {% endif %}
  }
  
  /* Heading styles */
  .nws-join-col-inner h3 {
    font-size: {{ section.settings.heading_size | default: 36 }}px;
    font-weight: 700;
    color: {{ section.settings.heading_color | default: '#000000' }};
    margin: 0 0 20px;
    line-height: 1.2;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-family: var(--font-heading-family, 'Arial', sans-serif);
  }
  
  /* Paragraph styles */
  .nws-join-col-inner p {
    font-size: {{ section.settings.text_size | default: 16 }}px;
    color: {{ section.settings.text_color | default: '#333333' }};
    line-height: 1.6;
    margin: 0 0 30px;
    font-family: var(--font-body-family, 'Arial', sans-serif);
  }
  
  /* Button styles */
  .nws-join-col-btn {
    display: inline-block;
    background-color: {{ section.settings.button_bg_color | default: '#FF00FF' }};
    color: {{ section.settings.button_text_color | default: '#FFFFFF' }};
    padding: {{ section.settings.button_padding | default: '15px 40px' }};
    font-size: {{ section.settings.button_font_size | default: 14 }}px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    text-decoration: none;
    border: 2px solid {{ section.settings.button_border_color | default: 'transparent' }};
    border-radius: {{ section.settings.button_border_radius | default: 0 }}px;
    transition: all 0.3s ease;
    font-family: var(--font-body-family, 'Arial', sans-serif);
    cursor: pointer;
  }
  
  .nws-join-col-btn:hover {
    background-color: {{ section.settings.button_hover_bg_color | default: '#E600E6' }};
    color: {{ section.settings.button_hover_text_color | default: '#FFFFFF' }};
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
    text-decoration: none;
  }
  
  /* Wide container adjustments */
  @media screen and (min-width: 1441px) {
    .nws-join-section .container-wide .nws-join-col-inner {
      max-width: 600px;
    }
  }
  
  /* Tablet Responsive (1024px and below) */
  @media screen and (max-width: 1024px) {
    .nws-join-section {
      padding: 40px 0;
    }
    
    .nws-join-section .container-wide {
      max-width: 100%;
      padding: 0 20px;
    }
    
    .nws-join-section .container-full {
      padding: 0 20px;
    }
    
    .nws-join-col-inner {
      padding: 30px;
    }
    
    .nws-join-col-inner h3 {
      font-size: 30px;
    }
    
    .nws-join-col-inner p {
      font-size: 15px;
    }
  }
  
  /* Mobile Responsive (768px and below) */
  @media screen and (max-width: 768px) {
    .col-lg-6 {
      flex: 0 0 100%;
      max-width: 100%;
    }
    
    .nws-join-row {
      min-height: auto;
    }
    
    {% if section.settings.content_bg_color != section.settings.section_bg_color %}
    .nws-join-row {
      padding: {{ section.settings.content_padding | divided_by: 2 | default: 10 }}px;
    }
    {% endif %}
    
    .nws-join-section .container-full {
      padding: 0 15px;
    }
    
    .nws-join-image-col {
      margin-bottom: 30px;
      padding: {{ section.settings.image_col_padding | divided_by: 2 | default: 0 }}px;
    }
    
    .nws-join-content-col {
      padding: {{ section.settings.text_col_padding | divided_by: 2 | default: 0 }}px;
    }
    
    .nws-join-col-img {
      max-width: 100%;
    }
    
    .nws-join-col-inner {
      padding: 20px;
      text-align: center;
    }
    
    .nws-join-col-inner h3 {
      font-size: 24px;
      letter-spacing: 1px;
    }
    
    .nws-join-col-inner p {
      font-size: 14px;
      margin-bottom: 25px;
    }
    
    .nws-join-col-btn {
      padding: 12px 30px;
      font-size: 13px;
    }
  }
  
  /* Small Mobile (480px and below) */
  @media screen and (max-width: 480px) {
    .nws-join-section {
      padding: 30px 0;
    }
    
    .nws-join-col-inner {
      padding: 15px;
    }
    
    .nws-join-col-inner h3 {
      font-size: 20px;
      margin-bottom: 15px;
    }
    
    .nws-join-col-inner p {
      font-size: 13px;
      margin-bottom: 20px;
    }
    
    .nws-join-col-btn {
      padding: 10px 25px;
      font-size: 12px;
      letter-spacing: 1px;
    }
  }
</style>

{% schema %}
{
  "name": "NWS - Join Section",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section width",
      "options": [
        {
          "value": "container",
          "label": "Container (1200px)"
        },
        {
          "value": "wide",
          "label": "Wide"
        },
        {
          "value": "full",
          "label": "Full width"
        }
      ],
      "default": "full",
      "info": "Controls the maximum width of the section content"
    },
    {
      "type": "range",
      "id": "full_width_padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Full Width Side Padding",
      "default": 40,
      "info": "Only applies when 'Full width' is selected"
    },
    {
      "type": "header",
      "content": "Background Settings"
    },
    {
      "type": "color",
      "id": "section_bg_color",
      "label": "Section Background Color",
      "default": "#FFFFFF",
      "info": "Overall section background"
    },
    {
      "type": "color",
      "id": "content_bg_color",
      "label": "Content Area Background",
      "default": "#FFD4E5",
      "info": "Background for the main content container"
    },
    {
      "type": "range",
      "id": "content_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Content Border Radius",
      "default": 0
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Content Area Padding",
      "default": 20,
      "info": "Space between section and content backgrounds"
    },
    {
      "type": "header",
      "content": "Column Backgrounds (Optional)"
    },
    {
      "type": "color",
      "id": "image_bg_color",
      "label": "Image Column Background",
      "info": "Leave blank for transparent"
    },
    {
      "type": "range",
      "id": "image_col_padding",
      "min": 0,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Image Column Padding",
      "default": 0
    },
    {
      "type": "color",
      "id": "text_col_bg_color",
      "label": "Text Column Background",
      "info": "Leave blank for transparent"
    },
    {
      "type": "range",
      "id": "text_col_padding",
      "min": 0,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Text Column Padding",
      "default": 0
    },
    {
      "type": "color",
      "id": "inner_content_bg_color",
      "label": "Inner Content Background",
      "info": "Background for text content area only"
    },
    {
      "type": "range",
      "id": "inner_content_border_radius",
      "min": 0,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Inner Content Border Radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "image_picker",
      "id": "sidebar-img",
      "label": "Sidebar Image"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "JOIN OUR CLIQUE"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Content",
      "default": "Get Exclusive Discounts, Plus Tips & Tricks on how to Grow your Hair! Our Top \"Hollywood\" Celebrity Hair Stylists will personally email you!"
    },
    {
      "type": "text",
      "id": "btn-text",
      "label": "Button Text",
      "default": "JOIN OUR CLIQUE"
    },
    {
      "type": "url",
      "id": "btn-link",
      "label": "Button Link"
    },
    {
      "type": "checkbox",
      "id": "open_new_window",
      "label": "Open link in new window",
      "default": true
    },
    {
      "type": "header",
      "content": "Content Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "image_max_width",
      "min": 300,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Image Max Width",
      "default": 600
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Image Border Radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Text & Button Colors"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#FF00FF"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button Border Color",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "button_hover_bg_color",
      "label": "Button Hover Background",
      "default": "#E600E6"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button Hover Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Typography Settings"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading Size",
      "default": 36
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text Size",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button Font Size",
      "default": 14
    },
    {
      "type": "text",
      "id": "button_padding",
      "label": "Button Padding",
      "default": "15px 40px",
      "info": "Format: top/bottom left/right (e.g., 15px 40px)"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 0
    },
    {
      "type": "header",
      "content": "Spacing Settings"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Section Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Section Padding Bottom",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_margin_top",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Section Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "section_margin_bottom",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "label": "Section Margin Bottom",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "NWS - Join Section",
      "category": "NWS - Section",
      "settings": {
        "section_width": "full",
        "section_bg_color": "#FFFFFF",
        "content_bg_color": "#FFD4E5",
        "heading": "JOIN OUR CLIQUE",
        "text": "Get Exclusive Discounts, Plus Tips & Tricks on how to Grow your Hair! Our Top \"Hollywood\" Celebrity Hair Stylists will personally email you!",
        "btn-text": "JOIN OUR CLIQUE"
      }
    }
  ]
}
{% endschema %}